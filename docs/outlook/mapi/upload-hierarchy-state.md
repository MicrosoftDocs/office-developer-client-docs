---
title: "Upload Hierarchy State"
manager: soliver
ms.date: 3/9/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: e39c4198-4913-5e86-900a-32e5ba5d801c
description: "Last modified: March 09, 2015"
 
 
---

# Upload Hierarchy State

  
  
**Applies to**: Outlook 
  
 This topic describes what happens during the upload hierarchy state of the replication state machine. 
  
## Quick Info

|||
|:-----|:-----|
|State Identifier:  <br/> |**LR_SYNC_UPLOAD_HIERARCHY** <br/> |
|Related Data Structure:  <br/> |**[UPHIER](uphier.md)** <br/> |
|From this state:  <br/> |[Synchronize state](synchronize-state.md) <br/> |
|To this state:  <br/> |[Upload folder state](upload-folder-state.md), or synchronize state  <br/> |
   
> [!NOTE]
> The replication state machine is a deterministic state machine. A client departing one state to another must eventually return to the former from the latter. 
  
## Description

This state initiates uploading a folder tree hierarchy that has been specified in a preceding synchronize state. Outlook determines the number of folders that have been created or modified in that hierarchy and initializes  *cEnt*  in **UPHIER**. Outlook also keeps a count of the number of uploaded folders with another member  *iEnt*  . To upload each of the  *cEnt*  folders, the client moves the local store into the upload folder state, returning to the upload hierarchy state when the folder upload finishes. 
  
When the upload hierarchy state ends, the local store returns to the synchronize state.
  
## See also

#### Concepts

[About the Replication API](about-the-replication-api.md)
  
[MAPI Constants](mapi-constants.md)
  
[About the Replication State Machine](about-the-replication-state-machine.md)
  
[SYNCSTATE](syncstate.md)

